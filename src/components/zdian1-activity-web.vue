<style>
body {
    background-color: #000 !important;
    font-family: '微软雅黑';
}

input {
    outline: none;
}

.bg3 .box-con .swiper-pagination {
    bottom: 20px !important;
}

.bg6 .box-con .inner_01>ul li {
    width: 167px;
    height: 140px;
    margin: 2px 3px;
    border-radius: 15px;
}

.bg6 .box-con .inner_01>ul {
    width: 520px;
    margin: 0 auto;
}

.bg6 .box-con .inner_01>ul li.b1 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg1.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b2 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg2.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b3 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg3.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b4 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg6.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b5 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg9.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b6 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg8.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b7 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg7.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.b8 {
    background: url("../assets/images/zdian1-activity/web-lottery-bg4.png") 0 0 no-repeat;
}

.bg6 .box-con .inner_01>ul li.btn-lottery {
    background: url("../assets/images/zdian1-activity/web-lottery-bg5.png") 0 0 no-repeat;
}

.fz20 {
    font-size: 20px;
}

.fz22 {
    font-size: 22px;
}

.fz24 {
    font-size: 24px;
}

.fz26 {
    font-size: 26px;
}

.fz30 {
    font-size: 30px;
}

.mt10 {
    margin-top: 10px;
}

.lh40 {
    line-height: 40px;
}

.mt20 {
    margin-top: 20px;
}

.pop-top span {
    color: #b4113c;
}

.pop-top h3 {
    font-size: 38px;
    color: #992d01;
}

.cl1 {
    color: #cb7d37;
}
</style>
<style lang="scss" scoped>
@import '../assets/css/reset.css';
.box {
    width: 100%;
}
.bg1 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg1.jpg") center 0 no-repeat;
    height: 575px;
}
.bg2 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg2.jpg") center 0 no-repeat;
    height: 365px;
}
.bg3 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg3.jpg") center 0 no-repeat;
    height: 516px;
}
.bg4 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg4.jpg") center 0 no-repeat;
    height: 582px;
    position: relative;
}
.bg5 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg5.jpg") center 0 no-repeat;
    height: 588px;
    position: relative;
}
.bg6 {
    background: url("../assets/images/zdian1-activity/zdian1-web-bg6.jpg") center 0 no-repeat;
    height: 994px;
}
.box-con {
    width: 1000px;
    margin: 0 auto;
    position: relative;
    height: 100%;
}
.slider-box {
    width: 980px;
    height: 399px;
    border: 10px #b98d1e solid;
    margin-top: 33px;
    float: left;
}
.bg4 a {
    width: 214px;
    height: 63px;
    position: absolute;
    left: 156px;
    bottom: 68px;
}
.bg4 img {
    width: 424px;
    height: 242px;
    position: absolute;
    right: 11px;
    bottom: 76px;
}
.bg5 a {
    width: 143px;
    height: 44px;
    position: absolute;
}
.bg5 a.link1 {
    left: 308px;
    top: 250px;
}
.bg5 a.link2 {
    right: 59px;
    top: 260px;
}
.bg6 .left {
    width: 580px;
    float: left;
}
.bg6 .left p {
    font-size: 28px;
    color: #821800;
    width: 100%;
    height: 48px;
    text-align: center;
    line-height: 48px;
    float: left;
    margin: 186px 0 25px;
}
.bg6 .right {
    width: 400px;
    float: right;
}
.bg6 .right p {
    width: 365px;
    text-align: left;
    font-size: 26px;
    color: #ffe4c3;
    float: right;
    margin-top: 200px;
}
.right div {
    width: 365px;
    height: 120px;
    margin-top: 20px;
    float: right;
    overflow: hidden;
}
.right ul {
    width: 365px;
    float: right;
}
.right ul li {
    font-size: 16px;
    color: #e5b880;
    line-height: 30px;
    font-family: "微软雅黑";
}
.right ul li.cur {
    font-size: 20px;
    color: #efb351;
    line-height: 30px;
}
.nav {
    width: 264px;
    height: 167px;
    background: url("../assets/images/zdian1-activity/web-nav-bg.png") 0 0 no-repeat;
    position: fixed;
    top: 50%;
    right: 0;
    margin-top: -121px;
    z-index: 10;
    padding-top: 76px;
}
.nav a {
    width: 100%;
    height: 55px;
    float: left;
}
.footer {
    width: 100%;
    height: 215px;
    background: url("../assets/images/zdian1-activity/web-footer-bg.png") center 0 no-repeat;
    position: fixed;
    bottom: 0;
    z-index: 10;
}
</style>

<template>
<div class="box">
    <div class="bg1">
    </div>
    <div class="bg2">
    </div>
    <div class="bg3">
        <div class="box-con">
            <div class="slider-box">
                <activity-slider :listData="listData" />
            </div>
        </div>
    </div>
    <div class="bg4" id="d0">
        <div class="box-con">
            <a href="javascript:;" @click="free">&nbsp;</a>
            <img src="" />
        </div>
    </div>
    <div class="bg5" id="d1">
        <div class="box-con">
            <a href="javascript:;" class="link1" @click="grab('1')"></a>
            <a href="javascript:;" class="link2" @click="grab('2')"></a>
        </div>
    </div>
    <div class="bg6" id="d2">
        <div class="box-con">
            <div class="left">
                <p>您有 0 次抽奖机会</p>
                <lottery @lotteryResult="lotteryResult" />
            </div>
            <div class="right">
                <p>目前已有 XXXXX 人参与</p>
                <div>
                    <ul>
                        <li class="cur">恭喜XXXX抽中XXXXX，祝您投资愉快。</li>
                        <li>恭喜XXXX抽中XXXXX，祝您投资愉快。</li>
                        <li>恭喜XXXX抽中XXXXX，祝您投资愉快。</li>
                        <li>恭喜XXXX抽中XXXXX，祝您投资愉快。</li>
                        <li>恭喜XXXX抽中XXXXX，祝您投资愉快。</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="nav">
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
        <a href="javascript:;"></a>
    </div>
    <div class="footer">
        <div class="box-con">
            <div id="divdown1" style="float:left;"></div>
        </div>
    </div>
    <zdian1-activity-pop1 @close="pop1Close" v-if="pop1Show">
        <div v-html="pop1Html">

        </div>
    </zdian1-activity-pop1>
    <zdian1-activity-pop2 @pop2Close="pop2Close" v-if="pop2Show">
        <div v-html="pop2Html">

        </div>
    </zdian1-activity-pop2>
</div>
</template>
<script>
import {
    mapState
} from 'vuex'
import jQuery from 'jquery'
window.jQuery = window.$ = jQuery
import activitySlider from 'components/activity-slider'
import lottery from 'components/lottery'
import zdian1ActivityPop1 from 'components/zdian1-activity-pop1'
import zdian1ActivityPop2 from 'components/zdian1-activity-pop2'

export default {
  data () {
    function ShowCountDown (year, month, day, divname) {
      var now = new Date()
      var endDate = new Date(year, month - 1, day)
      var leftTime = endDate.getTime() - now.getTime()
      var leftsecond = parseInt(leftTime / 1000)
      var day1 = Math.floor(leftsecond / (60 * 60 * 24))
      var hour = Math.floor((leftsecond - day1 * 24 * 60 * 60) / 3600)
      var minute = Math.floor((leftsecond - day1 * 24 * 60 * 60 - hour * 3600) / 60)
      var second = Math.floor(leftsecond - day1 * 24 * 60 * 60 - hour * 3600 - minute * 60)
      var cc = document.getElementById(divname)
      cc.innerHTML = day1 + '天' + hour + '小时' + minute + '分' + second + '秒'
    }
    window.setInterval(function () {
      ShowCountDown(2017, 9, 22, 'divdown1')
    }, 1000)
    $(function () {
      $('.nav a').click(function () {
        var index = $(this).index()
        var pos = $('#d' + index).offset().top
                // 实现平滑移动 1000代表时间ms
        $('html,body').stop().animate({
          scrollTop: pos
        }, 500)
      })
      setInterval(function () {
        $('.bg6 .right ul').animate({
          'margin-top': '-30px'
        }, 500, function () {
          $('.bg6 .right ul li:first').css({
            'font-size': '16px'
          })
          $('.bg6 .right ul').append($('.bg6 .right ul li:first'))
          $('.bg6 .right ul li:first').addClass('cur').siblings().removeClass('cur')
          $('.bg6 .right ul').css({
            'margin-top': '0'
          })
        })
        $('.bg6 .right ul li:eq(1)').animate({
          'font-size': '20px'
        }, 500)
      }, 1500)
    })
    return {
      listData: {
        conWidth: '980px',
        conHeight: '399px',
        conPadding: '0',
        pagShow: true,
        arrowShow: false,
        paginationClickable: true,
        loop: true,
        autoplay: 2000,
        autoplayDisableOnInteraction: false,
        list: [{
          imgUrl: 'http://i0.jrjimg.cn/zqt-red-1000/focus/focus20170711vip/go0.jpg',
          link: ''
        },
        {
          imgUrl: 'http://i0.jrjimg.cn/zqt-red-1000/focus/focus20170711vip/go1.jpg',
          link: ''
        },
        {
          imgUrl: 'http://i0.jrjimg.cn/zqt-red-1000/focus/focus20170711vip/go2.jpg',
          link: ''
        },
        {
          imgUrl: 'http://i0.jrjimg.cn/zqt-red-1000/focus/focus20170711vip/go3.jpg',
          link: ''
        },
        {
          imgUrl: 'http://i0.jrjimg.cn/zqt-red-1000/focus/focus20170711vip/go4.jpg',
          link: ''
        }
        ]
      },
      pop1Show: false,
      pop1Html: '',
      pop2Show: false,
      pop2Html: ''
    }
  },
  computed: mapState({
        // type: state => {
        //     return state.reservation.type
        // }
  }),
  components: {
    activitySlider,
    lottery,
    zdian1ActivityPop1,
    zdian1ActivityPop2
  },
  methods: {
    lotteryResult () {
            // this.pop2Html = '<h3>很遗憾<br />您当前没有抽奖机会</h3><p class="fz26 cl1">参与现金券抢购，</p><p class="fz20 cl1">可以获取更多抽奖机会哟~</p><p class="fz20 cl1">祝您投资愉快</p>'
            // this.pop2Html = '<h3>遗憾了！<br />大奖与您擦肩而过</h3><p class="fz26 cl1">继续参与现金券抢购，</p><p class="fz20 cl1">可以获得更多抽奖机会。~</p><p class="fz20 cl1">祝您投资愉快</p>'
      this.pop2Html = '<h3>恭喜您！<br />成功抽取 XXXXXX</h3><p class="fz20 cl1">奖品将于3个工作日内派发，您可以</p><p class="fz20 cl1">前往APP活动页面“我的礼品”~</p><p class="fz20 cl1">里查看中奖记录。</p>'

      this.pop2Show = true
    },
    pop1Close () {
      this.pop1Html = ''
      this.pop1Show = false
    },
    pop2Close () {
      this.pop2Html = ''
      this.pop2Show = false
    },
    free () {
            //   this.pop1Html = '<img src="http://i0.jrjimg.cn/zqt-red-1000/focus/zlhWeb/web-text1.png" /><p class="fz24 mt10">免费体验权限<span>仅限Z点操盘新用户</span>领取。</p><p class="fz30">您可以参与<span>“8.8元抢购”</span>福利，<br />享受超低折扣~</p>'

      this.pop1Html = '<img src="http://i0.jrjimg.cn/zqt-red-1000/focus/zlhWeb/web-text2.png" /><p class="fz26 mt20">成功领取智能炒股择时工具</p><p class="fz26">Z点操盘7天免费使用权限。</p><p class="fz20">您可以在金融界APP“智能诊股”页查看并使用。</p>'

      this.pop1Show = true
    },
    grab (type) {
      this.pop1Html = '<img src="http://i0.jrjimg.cn/zqt-red-1000/focus/zlhWeb/web-text3.png" /><p class="fz22 mt20 lh40">现金券将在次日发放，如遇节假日则顺延；</p><p class="fz22 lh40">此现金券可用于订阅智能炒股择时工具Z点操<br />盘，请在个人中心查看并使用。</p>'

      this.pop1Show = true
    }
  },
  mounted () {
    document.title = 'z点操盘'
  }
}
</script>
